<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>JerryCoder Song Detector | Identify Music from Any Video</title>
  <link rel="icon" href="https://ar-hosting.pages.dev/1751890521453.jpg" type="image/jpeg" />
  <meta name="description" content="JerryCoder's AI-powered song detector lets you find music from any video or audio file. Supports YouTube, Instagram, TikTok, and more using Shazam accuracy. Try it now!" />

  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">
  <style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Rubik', sans-serif;
    background: linear-gradient(135deg, #1a1f38, #2d294e, #0e1628);
    color: #fff;
    overflow-x: hidden;
    scroll-behavior: smooth;
    transition: background 2s ease-in-out;
  }
  header, section {
    padding: 40px 16px;
    max-width: 600px;
    margin: 0 auto;
  }
  header h1 {
    font-size: 1.8em;
    text-align: center;
    margin-bottom: 10px;
    color: #00ffe1;
  }
  header p {
    text-align: center;
    font-size: 1em;
    color: #ccc;
  }
  h2 {
    font-size: 1.4em;
    margin-bottom: 20px;
    color: #ffd700;
    text-align: center;
  }
  .features, .contact, .about {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  .blinking-heart {
    animation: slowBlink 2s infinite;
    display: inline-block;
    color: white;
  }
  @keyframes slowBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.2; }
  }
  .card {
    background: rgba(255,255,255,0.05);
    padding: 14px 18px;
    border-radius: 10px;
    backdrop-filter: blur(6px);
    box-shadow: 0 0 8px rgba(0,0,0,0.3);
  }
  .card h3 {
    color: #00ffc3;
    font-size: 1.1em;
    margin-bottom: 6px;
  }
  .tryout-form {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .tryout-form input, .tryout-form button {
    padding: 10px;
    border: none;
    border-radius: 6px;
    font-size: 1em;
    width: 100%;
  }
  .tryout-form button {
    background-color: #00ffd5;
    color: #000;
    font-weight: bold;
    cursor: pointer;
  }
  .tryout-form button:active {
    background-color: #00e0c2;
  }
  .result-box {
    margin-top: 16px;
    background: rgba(255,255,255,0.05);
    padding: 12px;
    border-radius: 10px;
    font-size: 0.9em;
    color: #00ffe0;
    font-family: monospace;
  }
  .result-box blockquote {
    background: rgba(0, 255, 255, 0.1);
    border-left: 4px solid #00ffd5;
    padding: 12px 16px;
    margin: 0;
    white-space: pre-wrap;
    border-radius: 8px;
    overflow-wrap: break-word;
  }
  footer {
    text-align: center;
    font-size: 0.8em;
    color: #aaa;
    margin: 30px 0;
  }
  #bg-animation {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: -1;
  }
  a { color: #00ffe0; text-decoration: none; }
  #upload label:hover {
    background-color: #00e0c2;
    transition: background 0.3s ease;
  }
</style>
</head>
<body>
<div id="bg-animation"></div>

<header>
  <h1>JerryCoder Song Detector</h1>
  <p>Identify music from any video or audio link using OGGY+API</p>
</header>

<section id="features">
  <h2>Features</h2>
  <div class="features">
    <div class="card"><h3>Platform Support</h3><p>YouTube, Instagram, TikTok, Facebook, Reddit, SoundCloud & more.</p></div>
    <div class="card"><h3>Fast & Accurate</h3><p>Detects songs in 5‚Äì10 seconds with Shazam precision.</p></div>
    <div class="card"><h3>Upload Files</h3><p>Upload audio or video directly for instant song detection using OGGYAPI.</p></div>
    <div class="card"><h3>Direct Audio</h3><p>Paste `.mp3`, `.m4a`, or any audio URL ‚Äî no video needed.</p></div>
  </div>
</section>

<!-- New Upload Section -->
<section id="upload">
  <h2>Upload Audio/Video File</h2>
  <div class="card">
    <form class="tryout-form" id="uploadForm">
      <label for="fileInput" style="background:#00ffd5; color:#000; font-weight:bold; text-align:center; padding:12px; border-radius:8px; cursor:pointer;">
        Select File to Detect
      </label>
      <input type="file" id="fileInput" accept="audio/*,video/*" style="display: none;" />
    </form>
    <div id="uploadResult" class="result-box" style="display:none;"></div>
  </div>
</section>

<section id="tryout">
  <h2>Try It Out</h2>
  <form class="tryout-form" onsubmit="sendRequest(event)">
    <input id="url" type="text" placeholder="Paste any video/audio URL..." />
    <button type="submit">Submit</button>
  </form>
  <div id="result" class="result-box" style="display:none;"></div>
</section>

<section id="about">
  <h2>About JerryCoder</h2>
  <div class="about">
    <div class="card">
      <p>JerryCoder is a passionate AI & API developer from India. Known for building useful music tools, bots, and fast APIs that power song recognition for creators worldwide.</p>
    </div>
  </div>
</section>

<section id="contact">
  <h2>Contact</h2>
  <div class="contact">
    <div class="card">
      <p>Admin: JerryCoder</p>
      <p>Telegram: <a href="https://t.me/oggy_workshop" target="_blank">@oggy_workshop</a></p>
    </div>
  </div>
</section>

<footer>
  &copy; 2025 JerryCoder API. Built with <span class="blinking-heart">ü§ç</span> in OGGYAPI.
</footer>

<!-- Background Animation -->
<script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script>
  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");
  document.getElementById("bg-animation").appendChild(canvas);
  let w, h, particles;

  function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
    particles = Array.from({ length: 50 }).map(() => ({
      x: Math.random() * w,
      y: Math.random() * h,
      r: Math.random() * 1.5 + 1,
      dx: (Math.random() - 0.5) * 0.5,
      dy: (Math.random() - 0.5) * 0.5,
    }));
  }

  function draw() {
    ctx.clearRect(0, 0, w, h);
    particles.forEach(p => {
      p.x += p.dx;
      p.y += p.dy;
      if (p.x < 0 || p.x > w) p.dx *= -1;
      if (p.y < 0 || p.y > h) p.dy *= -1;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
      ctx.fillStyle = "rgba(255,255,255,0.5)";
      ctx.fill();
    });
    requestAnimationFrame(draw);
  }

  window.addEventListener("resize", resize);
  resize(); draw();
</script>

<!-- File Upload Detection -->
<script>
  document.getElementById("fileInput").addEventListener("change", async function () {
    const file = this.files[0];
    const resultBox = document.getElementById("uploadResult");
    resultBox.style.display = "block";

    if (!file) {
      resultBox.innerHTML = "<blockquote>Please select a file.</blockquote>";
      return;
    }

    if (file.size > 20 * 1024 * 1024) {
      resultBox.innerHTML = "<blockquote>File too large. Max 20MB allowed.</blockquote>";
      return;
    }

    resultBox.innerHTML = "<blockquote>Uploading file to JerryCoder Render server...</blockquote>";

    const formData = new FormData();
    formData.append("file", file);

    try {
      const uploadRes = await fetch("https://jerrycoderr.onrender.com/upload_to_temp", {
        method: "POST",
        body: formData,
      });

      if (!uploadRes.ok) throw new Error("Upload request failed");

      const data = await uploadRes.json();
      const fileUrl = data?.file_url;

      if (!fileUrl) {
        resultBox.innerHTML = "<blockquote>Upload succeeded, but file URL not returned.</blockquote>";
        return;
      }

      resultBox.innerHTML = `<blockquote>Upload successful! File URL:<br>${fileUrl}<br><br>Detecting song...</blockquote>`;

      const logos = [
  "https://img.icons8.com/?size=100&id=YKJLCQUvBfem&format=png&color=000000",
  "https://img.icons8.com/?size=100&id=SYOFEsbarUWG&format=png&color=000000",
  "https://img.icons8.com/?size=100&id=34945&format=png&color=000000",
  "https://img.icons8.com/?size=100&id=qXtWxmrSdTr1&format=png&color=000000",
  "https://img.icons8.com/?size=100&id=wyZoAnEoL2jT&format=png&color=000000"
];

const detectRes = await fetch(`https://jerrycoderr.onrender.com/identify?url=${encodeURIComponent(fileUrl)}`);
if (!detectRes.ok) throw new Error("Song detection failed");

const detectData = await detectRes.json();

if (detectData.status === "success" && detectData.result) {
  const { title, artist, image, shazam_url } = detectData.result;
  const coverImage = image && image.trim() !== "" 
    ? image 
    : "https://ar-hosting.pages.dev/1751890521453.jpg";

  const randomLogo = logos[Math.floor(Math.random() * logos.length)];

  resultBox.innerHTML = `
    <div style="text-align:left; margin-top:15px; background:transparent; padding:15px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); max-width:500px; word-wrap:break-word;">
  <p style="font-size:14px; color:#555; margin-bottom:12px;">
        <strong>Uploaded to:</strong><br>
        <a href="${fileUrl}" target="_blank" style="color:#007bff; word-break:break-all;">${fileUrl}</a>
      </p>
      <img src="${coverImage}" alt="Cover Art" style="max-width:100%; border-radius:10px; margin-bottom:12px;" />
      <p><strong>Title</strong> : ${title}<br><br><strong>Artist</strong> : ${artist}</p>
      ${shazam_url ? `
        <p style="margin-top:12px;">
          <a href="${shazam_url}" target="_blank" style="display:inline-flex; align-items:center; gap:6px; text-decoration:none; color:#00ffe0;">
            <img src="${randomLogo}" alt="Shazam" style="height:20px; width:20px;" />
            View on Shazam
          </a>
        </p>
      ` : ''}
    </div>
  `;
} else {
  resultBox.innerHTML = `<blockquote>${JSON.stringify(detectData, null, 2).replace(/\n/g, "<br>")}</blockquote>`;
}
    } catch (err) {
      resultBox.innerHTML = `<blockquote>Upload failed: ${err.message}</blockquote>`;
    }
  });
</script>


<!-- Song Detection from URL -->
<script>
  async function sendRequest(event) {
    event.preventDefault();
    const urlInput = document.getElementById("url");
    const url = urlInput.value.trim();
    const resultBox = document.getElementById("result");
    resultBox.style.display = "block";

    if (!url) {
      resultBox.innerText = "Please provide a URL.";
      return;
    }

    if (!/^https?:\/\/\S+$/i.test(url)) {
      resultBox.innerText = "Please provide a valid audio or video URL.";
      return;
    }

    resultBox.innerText = "Fetching song details...";

    try {
      const res = await fetch(`https://jerrycoderr.onrender.com/identify?url=${encodeURIComponent(url)}`);
      const data = await res.json();

      let content = '';

      const image = data?.result?.image || "https://ar-hosting.pages.dev/1751890521453.jpg";
      const title = data?.result?.title || "Unknown Title";
      const artist = data?.result?.artist || "Unknown Artist";
      const shazamURL = data?.result?.shazam_url;

      const logos = [
  "https://img.icons8.com/?size=100&id=YKJLCQUvBfem&format=png&color=000000",
  "https://img.icons8.com/?size=100&id=SYOFEsbarUWG&format=png&color=000000",
  "https://img.icons8.com/?size=100&id=34945&format=png&color=000000",
  "https://img.icons8.com/?size=100&id=qXtWxmrSdTr1&format=png&color=000000",
  "https://img.icons8.com/?size=100&id=wyZoAnEoL2jT&format=png&color=000000"
];

const randomLogo = logos[Math.floor(Math.random() * logos.length)];

content += `
  <div style="text-align:left; margin-bottom:15px;">
    <img src="${image}" alt="Cover Art" style="max-width:100%; border-radius:10px; margin-bottom:12px;" />
    <p><strong>Title</strong> : ${title}<br><br><strong>Artist</strong> : ${artist}</p>
    ${shazamURL ? `
      <p style="margin-top:12px;">
        <a href="${shazamURL}" target="_blank" style="display:inline-flex; align-items:center; gap:6px; text-decoration:none; color:#00ffe0;">
          <img src="${randomLogo}" alt="Shazam" style="height:20px; width:20px; vertical-align:middle;" />
          View on Shazam
        </a>
      </p>
    ` : ''}
  </div>
`;

      resultBox.innerHTML = content;
    } catch (err) {
      resultBox.innerHTML = "<p style='color:red;'>Failed to detect song.</p>";
    }
  }
</script>

<script>
  const bgColors = [
    'linear-gradient(135deg, #1a1f38, #2d294e, #0e1628)',
    'linear-gradient(135deg, #0e2830, #21425b, #1a2a47)',
    'linear-gradient(135deg, #2a1439, #432859, #110c22)',
    'linear-gradient(135deg, #002b36, #073642, #0c3748)',
    'linear-gradient(135deg, #3b1d2e, #5a2b4d, #291225)'
  ];

  let index = 0;
  setInterval(() => {
    index = (index + 1) % bgColors.length;
    document.body.style.background = bgColors[index];
  }, 5000);
</script>
</body>
</html>
